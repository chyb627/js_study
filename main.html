<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link href="main.css" rel="stylesheet">

    <!-- jQuery -->
    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
    </script>

    <title>Sweater Store ğŸ‘•</title>
  </head>


  <body>

    <div class="left-menu">
        <p>Menu Title</p>
    </div>

    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ì°½ -->
    <div class="black-background">
        <div calss="white-background">
            <p>ë¡œê·¸ì¸í•˜ì„¸ìš”</p>

            <form>
                <div class="form-group">
                  <input type="email" class="form-control" placeholder="Email" id="email">
                  <p id="email-alert">ì´ë©”ì¼ì´ ë¹ˆì¹¸ì…ë‹ˆë‹¤</p>
                </div>
                <div class="form-group">
                  <input type="password" class="form-control" placeholder="Password" id="password">
                  <p id="password-alert">ì´ë©”ì¼ì´ ë¹ˆì¹¸ì…ë‹ˆë‹¤</p>
                </div>
                <button type="submit" class="btn btn-primary">ì „ì†¡</button>
              </form>

            <a id="close" class="btn btn-danger">ë‹«ê¸°</a>

        </div>
    </div>

    <!-- ë„¤ë¸Œë°” -->
    <div class="nav-menu">
        <h4 class="large-logo">Sweater Store ğŸ‘•</h4>
        <div class="flex-between">
            <a id="nav-sub-button" class="btn btn-info btn-lg">MENU</a>
            <a id="login" class="btn btn-primary btn-lg" role="button">
                Log In
            </a>
        </div>
    </div>

    <ul class="list-group nav-sub">
        <li class="list-group-item">Outer</li>
        <li class="list-group-item">Shirts</li>
        <li class="list-group-item">Pants</li>
        <li class="list-group-item">Shouse</li>
        <li class="list-group-item">etc</li>
    </ul>
    
    <h4 class="my-4 text-center">Showcase</h4>

    <div style="overflow: hidden; position: relative">
        <div class="slide-container">
          <div class="slide-box">
            <img src="img/shirt1.jpeg">
          </div>
          <div class="slide-box">
            <img src="img/shirt2.jpeg">
          </div>
          <div class="slide-box">
            <img src="img/shirt3.jpeg">
          </div>
        </div>
        <button class="slide-right">Right</button>
        <button class="slide-left">left</button>
    </div>

      
    <div class="container">

        <ul class="list">
            <li class="tab-button" data-id="0">ìƒí’ˆ ìƒì„¸ì„¤ëª…</li>
            <li class="tab-button active" data-id="1">ì‚¬ì´ì¦ˆ ì •ë³´</li>
            <li class="tab-button" data-id="2">í›„ê¸°</li>
        </ul>
    
        <div class="tab-content">
            <p>ìƒí’ˆ ìƒì„¸ì„¤ëª…ì…ë‹ˆë‹¤. Product</p>
        </div>
        <div class="tab-content show">
            <p>ì‚¬ì´ì¦ˆ ì •ë³´ì…ë‹ˆë‹¤. Info</p>
        </div>
        <div class="tab-content">
            <p>í›„ê¸°ì…ë‹ˆë‹¤. Shipping</p>
        </div>

    </div>

    <form class="container my-5">
        <div class="form-group">
         
          <p>ìƒí’ˆì„ íƒ</p>
          <select class="form-control" id="option1">
            <option>ë°”ì§€</option>
            <option>ì…”ì¸ </option>
          </select>
          
          <div class="size-select">
            <p class="mt-4">ì‚¬ì´ì¦ˆì„ íƒ</p>
            <select class="form-control" id="option2">
              <!-- <option>95</option>
              <option>100</option>
              <option>105</option> -->
            </select>
          </div>
    
        </div>
    </form> 

    <div class="card-group container">
        <div class="card">
          <img src="https://via.placeholder.com/600">
          <div class="card-body">
            <h5 class="title">Card title</h5>
            <p class="price">ê°€ê²© : 70000</p>
            <button class="btn btn-danger">ì£¼ë¬¸í•˜ê¸°</button>
          </div>
        </div>
        <div class="card">
          <img src="https://via.placeholder.com/600">
          <div class="card-body">
            <h5 class="title">Card title</h5>
            <p class="price">ê°€ê²© : 70000</p>
            <button class="btn btn-danger">ì£¼ë¬¸í•˜ê¸°</button>
          </div>
        </div>
        <div class="card">
          <img src="https://via.placeholder.com/600">
          <div class="card-body">
            <h5 class="title">Card title</h5>
            <p class="price">ê°€ê²© : 70000</p>
            <button class="btn btn-danger">ì£¼ë¬¸í•˜ê¸°</button>
          </div>
        </div>
      </div>

      <div class="container my-4">
        <button class="btn btn-danger" id="sortPrice">ê°€ê²©ìˆœì •ë ¬</button>
        <button class="btn btn-primary" id="abc">ê°€ë‚˜ë‹¤ìˆœ</button>
        <button class="btn btn-primary" id="filter">6ë§Œì›ì´í•˜</button>
      </div>

      <h4 id="hhello" style="margin: 40px;">AJAX ì—°ìŠµ</h4>
      <button id="ajax" style="margin-left: 40px;" class="btn btn-danger">AJAX ë²„íŠ¼</button>

      <div>
        <h4 id="car" style="margin-top: 40px;">ë¥´ë…¸</h4>
        <p id="kind">CLIO</p>
        <p id="money">20000</p>
        <img id="picture" style="width: 400px; height: 300px;" src="img/clio.jpeg">
      </div>

      <button id="change" style="margin-left: 40px;" class="btn btn-danger">ìƒí’ˆë³€ê²½ ë²„íŠ¼</button>

    <div class="my-5"></div>

    <script> 

        $('#hi').click(function(){
            $('#hi').animate({ marginLeft:'100px', marginTop:'100px' });
        })

        $('#email').on('change', function(){
            $('#email-alert').show();
        })

        $('form').on('submit', function(e){

            // if($('#email').val() == ''){
            //     e.preventDefault();
            //     $('#email-alert').show();
            // }
            // else if($('#password').val() == ''){
            //     e.preventDefault();
            //     $('#password-alert').show();
            // }

            var ì…ë ¥í•œì´ë©”ì¼ = $('#email').val();
            if(/\S+@\S+\.\S+/.test(ì…ë ¥í•œì´ë©”ì¼) == false){
                e.preventDefault();
                $('#email-alert').show();
            } else if (ì…ë ¥í•œì´ë©”ì¼ == '') {
                e.preventDefault();
            }

            // ì…ë ¥í•œíŒ¨ìŠ¤ì›Œë“œì— ëŒ€ë¬¸ìê°€ ìˆìœ¼ë©´ true ì—†ìœ¼ë©´ falseê°€ ë‚˜ì˜¨ë‹¤
            var ì…ë ¥í•œíŒ¨ìŠ¤ì›Œë“œ = $('#password').val();
            if (/[A-Z]+/.test(ì…ë ¥í•œíŒ¨ìŠ¤ì›Œë“œ) == false ){
                e.preventDefault();
            }

        });

        $('#login').on('click', function(){
            // $('.black-background').fadeIn();

            // $('.black-background').show();
            // $('.black-background').animate({ marginTop: '0px' });

            // $('.black-background').show().animate({ marginTop: '0px' });

            // $('.black-background').css('transform', 'translateY(0px)');
            $('.black-background').addClass('slide-down');

        });

        $('#nav-sub-button').click(function(){
            $('.nav-sub').slideToggle();
        })

        $('#close').on('click', function(){
            $('.black-background').fadeOut();
        });

        var ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ =1;
       
        $('.slide-right').click(function() {

            if ( ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ < 3 ) { 
                $('.slide-container').css('transform', 'translateX(-' + ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ + '00vw)');
                ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ = ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ + 1;
            }

        });   

        $('.slide-left').click(function() {
        
            if ( ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ > 1 ) { 
                $('.slide-container').css('transform', 'translateX(-' + (ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ - 2) + '00vw)');
                ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ = ì§€ê¸ˆë³´ì´ëŠ”ì‚¬ì§„ - 1;
            }

        });

        $(window).on('scroll', function(){

             // console.log("ìŠ¤í¬ë¡¤ ìœ„ì¹˜ :: ",$(window).scrollTop())
             
            if ( $(window).scrollTop() > 100 ){
                $('.nav-menu').addClass('nav-black');
                $('.nav-menu h4').addClass('small-logo');
            }
            else {
                $('.nav-menu').removeClass('nav-black');
                $('.nav-menu h4').removeClass('small-logo');
            }

        });

        // ë°˜ë³µë¬¸ìœ¼ë¡œ íƒ­ì—´ê¸°
        // for (let i = 0; i < $('.tab-button').length; i++) {
        //     $('.tab-button').eq(i).click(function(){
        //         // console.log(i);
        //         íƒ­ì—´ê¸°(i);
        //     }); 
        // }

        //ul.listë¡œ íƒ­ì—´ê¸°
        $('.list').click(function(e){
                íƒ­ì—´ê¸°(e.target.dataset.id);
        });

        

        function íƒ­ì—´ê¸°(ìˆ«ì) {
            $('.tab-button').removeClass('active'); 
            $('.tab-content').removeClass('show');    

            $('.tab-button').eq(ìˆ«ì).addClass('active');
            $('.tab-content').eq(ìˆ«ì).addClass('show');
        }

        $('.black-background').click(function(e){

            // e.target;  // ì§€ê¸ˆ ì‹¤ì œë¡œ í´ë¦­í•œ ìš”ì†Œ
            // e.currentTarget;  // ì§€ê¸ˆ ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆê°€ ë‹¬ë¦° ê³³
            // e.preventDefault(); // ê¸°ë³¸ë™ì‘ ë§‰ê¸°

            //ë§Œì•½ì—, ì§€ê¸ˆ ì‹¤ì œë¡œ í´ë¦­í•œê²Œ ê²€ì€ë°°ê²½ì¼ ë•Œë§Œ ì‘ë™í•˜ë„ë¡í•˜ê¸°.
            if (e.target === e.currentTarget ){
                $('.black-background').hide();
            }
        });


        let ì…”ì¸ ì‚¬ì´ì¦ˆ = [85,90,95,100,105,110,115];
        // select ê°’ì„ ë°”ê¾¸ë©´ ë‚´ë¶€ ì½”ë“œë¥¼ ì‹¤í–‰í•´ì£¼ì„¸ìš”
        // ë§Œì•½ì— ì‚¬ìš©ìê°€ ì„ íƒí•œ ê°’ì´ ì…”ì¸ ì¸ ê²½ìš°ì— ë°‘ì— ê·¸ UIë¥¼ ë³´ì—¬ì¤€ë‹¤.
        $('#option1').on('change', function(){
            // if ( $('#option1').val() == 'ì…”ì¸ ' ) {
            //     $('.size-select').show();
            // }
            // else {
            //     $('.size-select').hide();
            // }

            if ( $('#option1').val() == 'ì…”ì¸ ' ) {
                $('#option2').html('');
                for (let i =0; i < ì…”ì¸ ì‚¬ì´ì¦ˆ.length; i++) {
                    let í…œí”Œë¦¿ = `<option>${ì…”ì¸ ì‚¬ì´ì¦ˆ[i]}</option>`;
                    $('#option2').append(í…œí”Œë¦¿);
                }
            }
            else {
                $('#option2').html('');
                var í…œí”Œë¦¿ = '<option>28</option><option>30</option><option>32</option>';
                $('#option2').append(í…œí”Œë¦¿);
            }
        });

        // array of objects ë‹¤ë£¨ê¸°
        let products = [
            { id : 0, price : 70000, title : 'Blossom Dress' },
            { id : 1, price : 50000, title : 'Springfield Shirt' },
            { id : 2, price : 60000, title : 'Black Monastery' }
        ] 
        for(let i =0; i < products.length; i++){
            $('.title').eq(i).html(products[i].title);
            $('.price').eq(i).html('ê°€ê²© : '+products[i].price);
        }

        // ìƒí’ˆì •ë ¬ ê¸°ëŠ¥ ë§Œë“¤ê¸° (sort, filter, map)
        let array = [7,3,5,2,40];
        
        array.sort(function(a,b){
            return a - b; //ì˜¤ë¦„ì°¨ìˆœ
            // return b - a; //ë‚´ë¦¼ì°¨ìˆœ
        });

        $('#sortPrice').click(function(){
            products.sort(function(a,b){
                return a.price - b.price;
            })

            for(let i =0; i < products.length; i++){
            $('.title').eq(i).html(products[i].title);
            $('.price').eq(i).html('ê°€ê²© : '+products[i].price);
            }
        });

        let newArray = array.filter(function(a){   // ì‹ ë¬¸ë²•ì€ newì— ë‹´ì•„ì„œ ì‚¬ìš©í•´ì•¼í•¨.
            return a < 4; // ì¡°ê±´ì‹. a<4ë¥¼ ì“°ë©´ 4ë³´ë‹¤ ì‘ì€ê²ƒë§Œ ê±¸ëŸ¬ì§„ë‹¤.
        })

        // filter()í•¨ìˆ˜ëŠ” ê¸°ì¡´ arrayìë£Œë¥¼ ë³€í˜• ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤
        // sort()í•¨ìˆ˜ëŠ” ê¸°ì¡´ array ìë£Œë¥¼ ë³€í˜• ì‹œí‚¨ë‹¤

        // let newArray = array.map(function(a){
        //     return a * 2 // arrayìë£Œì— ì „ë¶€ ë­ í•´ì£¼ê³  ì‹¶ìœ¼ë©´ map()í•¨ìˆ˜ ì‚¬ìš©. arrayìë£Œì— ì „ë¶€ 2ë¥¼ ê³±í•´ì¤€ë‹¤.
        // })

        // ê°€ë‚˜ë‹¤ìˆœìœ¼ë¡œ ì •ë ¬í•˜ëŠ” ì½”ë“œ
        $('#abc').click(function(){
            products.sort(function(a,b){
                if(a.title < b.title === true) {
                    return -1;  // ìŒìˆ˜ë¥¼ ë¦¬í„´í•˜ë©´ b.titleì„ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
                }
                else {
                    return 1;  // ì–‘ìˆ˜ë¥¼ ë¦¬í„´í•˜ë©´ b.titleì´ ì™¼ìª½ìœ¼ë¡œ ì˜¨ë‹¤.
                }
            });

            for(let i =0; i < products.length; i++){
            $('.title').eq(i).html(products[i].title);
            $('.price').eq(i).html('ê°€ê²© : '+products[i].price);
            }
        });

        // 6ë§Œì›ì´í•˜ í•„í„° ê¸°ëŠ¥
        $('#filter').click(function(){
            let newProducts = products.filter(function(a){
                return a.price <= 60000
            });

            newProducts.forEach(function(a){
                let template = `<div>${a.title} ${a.price}</div>`;
                $('.card-group').append(template);
            });
        });

        // AJAX
        $('#ajax').click(function(){
            $.ajax({ 
                url : 'https://codingapple1.github.io/hello.txt',
                type : 'GET'
            }).done(function(ë°ì´í„°){
                // console.log(ë°ì´í„°);
                $('#hhello').html(ë°ì´í„°);
            });
            // .fail(function(){      //ajax ìš”ì²­ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ ì‹¤í–‰í•  ì½”ë“œ

            // }).always(function(){     //ajax ìš”ì²­ì‹œ í•­ìƒ ì‹¤í–‰í•  ì½”ë“œ

            // })
        });

        // AJAX ì´ìš©í•´ì„œ ìƒí’ˆ ë³€ê²½í•˜ê¸°
        $('#change').click(function(){
            $.ajax({ 
                url : 'https://codingapple1.github.io/data.json',
                type : 'GET'
            }).done(function(ë°ì´í„°){
                // console.log(ë°ì´í„°);
                $('#car').html(ë°ì´í„°.brand);
                $('#kind').html(ë°ì´í„°.model);
                $('#money').html(ë°ì´í„°.price);
                $('#picture').attr('src', ë°ì´í„°.img);
            });
        });

    </script>

  </body>
</html>